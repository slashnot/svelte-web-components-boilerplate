<div>
  <h3>Grid List</h3>
  <h5>id</h5>
  {@html htmlChildren}
</div>

<script>
  import store from "../store";
  import TemplateEngine from "../services/TemplateEngine";

  export default {
    store: () => store,

    data() {
      return {
        htmlChildren: ''
      }
    },

    tag: "sl-grid-list",

    oncreate() {
      console.log(this.options.target = this)
      let listener = this.store.on("resource-loaded", res => {
        let elmArr = Array.from(this.children);

        // Clear the inner HTML
        this.innerHTML = "";

        // Set field id to iterate
        let htmlArr = elmArr.map(elm => {
          elm.setAttribute('slrField', this.parentElement.getAttribute('source'));
          return elm;
        })
        this.set({
          htmlChildren: htmlArr[0].outerHTML
        });
      });
      this.on("destroy", listener.cancel);
    }
  };
</script>

<style>
  h5 {
    color: rebeccapurple;
  }
</style>