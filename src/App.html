<div>
	<h1>Hello {title} from Web Component</h1>
	<button class="btn btn-primary" on:click="fireEvent({data: 'Dummy Data'})">Fire an Event</button>
	<button class="btn btn-secondary" on:click="fireEvent({data: 'Dummy Data'})">Fire an Event</button>
	<Child users={users}>
		<h2><react-comp/></h2>
	</Child>
	<slot></slot>
</div>

<script>
	export default {
		data() {
			return {
				users:[]
			};
		},
		tag: 'my-app',
		components: {
			Child: './child.html'
		},

		onstate({ changed, current, previous }) {
			// this fires after oncreate, and after every state change
			// once the DOM is synchronised with the data
			console.log(`APP State has been updated`, previous, current);
			console.log('APP Children---------->',this.children);
		},

		methods: {
			fireEvent(value) {
				console.log("Event Fired !!!", value);
				fetch('https://jsonplaceholder.typicode.com/posts')
					.then((res) => {
						return res.json();
					})
					.then((data) => {
						console.log(data)
						this.users = data;
					})
			}
		}
	};
</script>

<style>
	button {
		-webkit-appearance: button;
		font-weight: 400;
		box-sizing: border-box;
	}

	button:focus {
		outline: 0;
	}

	.btn {
		font-weight: 300;
		font-family: Poppins, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
		border: 1px solid transparent;
		padding: .75rem 1.25rem;
		font-size: .875rem;
		line-height: 1.125;
		border-radius: .375rem;
		transition: all 250ms cubic-bezier(.27, .01, .38, 1.06);
		display: inline-block;
		text-align: center;
		white-space: nowrap;
		vertical-align: middle;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	.btn-primary {
		color: #fff;
		border-color: #007bff;
		background-color: #007bff;
		box-shadow: 0 4px 6px rgba(50, 50, 93, .11), 0 1px 3px rgba(0, 0, 0, .08);
	}

	.btn-primary:hover,
	.btn-primary:focus {
		background-color: #006fe6;
		border-color: #006fe6;
		box-shadow: 0 3px 6px 0px rgba(0, 105, 218, 0.2), 0 3px 15px rgba(0, 0, 0, .2), 0 2px 5px rgba(0, 0, 0, .1);
	}

	.btn-secondary {
		color: #fff;
		border-color: #5a6169;
		background-color: #5a6169;
		box-shadow: 0 4px 6px rgba(34, 34, 36, 0.11), 0 1px 3px rgba(0, 0, 0, .08), 0 2px 5px rgba(0, 0, 0, .1);
	}

	.btn-secondary:hover,
	.btn-secondary:focus {
		background-color: #4e545b;
		border-color: #4e545b;
		box-shadow: 0 5px 15px rgba(0, 0, 0, .05), 0 4px 10px rgba(90, 97, 105, .25);
	}
</style>