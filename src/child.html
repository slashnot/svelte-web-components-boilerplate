<div>
	<h2>{$name}</h2>
	<button on:click="getPosts()">Get Posts</button>
	<slot></slot>
	<!-- <svelte:component this="{TextField}" resid="thing" /> -->
</div>


<script>
  import store from "./store";
  import TextField from "./TextField.html";

  export default {
    tag: "app-child",

    store: () => store,

    data() {
      return {
        id: "",
        elm: null,
        TextField
      };
    },

    onupdate() {},

    methods: {
      getPosts() {
        fetch("https://jsonplaceholder.typicode.com/posts")
          .then(res => res.json())
          .then(posts => {
            console.log(posts);
            this.store.set({ posts });
            this.store.fire("posts", posts);
          });
      }
    }
  };
</script>