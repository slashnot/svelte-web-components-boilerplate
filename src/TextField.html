<p>APP Content - :) <slot></slot>
</p>

<script>
  import store from "./store";
  import { TemplateEngine } from "./TemplateEngine";

  export default {
    tag: "app-text",
    store: () => store,

    props:['emptytext'],

    oncreate() {
      let arr = Array.from(this.children);
      let strHtml = "",
        arrHtml;
      this.innerHTML = '<h3>No ' + this.emptytext;
      

      this.store.on("posts", posts => {
        this.innerHTML = '';
        arrHtml = arr.map(p => {
          strHtml = strHtml + p.innerHTML;
        });
        posts.map((post)=>{
          var out = TemplateEngine(strHtml, post);
          this.insertAdjacentHTML('beforeend', out);
        })
      });
    }
  };
</script>